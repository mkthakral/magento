var UniteAdminRev;!function(b){UniteAdminRev=new function(){var a=this,l=null,i=null,r=null,s=null,o=[],u=null,c=null,t=null,d=!1;a.showInfo=function(e){var i='<i class="eg-icon-info"></i>';"warning"==e.type&&(i='<i class="eg-icon-cancel"></i>'),"success"==e.type&&(i='<i class="eg-icon-ok"></i>'),e.showdelay=null!=e.showdelay?e.showdelay:0,e.hidedelay=null!=e.hidedelay?e.hidedelay:0,0==b("#eg-toolbox-wrapper").length&&b("#viewWrapper").append('<div id="eg-toolbox-wrapper"></div>'),b("#eg-toolbox-wrapper").append('<div class="eg-toolbox newadded">'+i+e.content+"</div>");var o=b("#eg-toolbox-wrapper").find(".eg-toolbox.newadded");o.removeClass("newadded"),punchgs.TweenLite.fromTo(o,.5,{y:-50,autoAlpha:0,transformOrigin:"50% 50%",transformPerspective:900,rotationX:-90},{autoAlpha:1,y:0,rotationX:0,ease:punchgs.Back.easeOut,delay:e.showdelay}),"event"!=e.hideon?(o.click(function(){punchgs.TweenLite.to(o,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,onComplete:function(){o.remove()}})}),0!=e.hidedelay&&"click"!=e.hideon&&punchgs.TweenLite.to(o,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,delay:e.hidedelay+e.showdelay,onComplete:function(){o.remove()}})):b("#eg-toolbox-wrapper").on(e.event,function(){punchgs.TweenLite.to(o,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,onComplete:function(){o.remove()}})})},a.htmlspecialchars=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},a.getAbsolutePos=function(e){var i=curtop=0;if(e.offsetParent)for(i=e.offsetLeft,curtop=e.offsetTop;e=e.offsetParent;)i+=e.offsetLeft,curtop+=e.offsetTop;return[i,curtop]},a.stripslashes=function(e){return(e+"").replace(/\\(.?)/g,function(e,i){switch(i){case"\\":return"\\";case"0":return"\0";case"":return"";default:return i}})},a.strToBool=function(e){return null!=e&&("string"==typeof e&&"true"==(e=e.toLowerCase()))},a.setColorPickerCallback=function(e){t=e},a.onColorPickerMoveEvent=function(e){"function"==typeof t&&t(e)},a.stripTags=function(e,o){o=(((o||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,i){return-1<o.indexOf("<"+i.toLowerCase()+">")?e:""})},a.rgb2hex=function(e){if(-1==e.search("rgb")||""==b.trim(e))return e;function i(e){return("0"+parseInt(e).toString(16)).slice(-2)}-1<e.indexOf("-moz")&&(delete(n=e.split(" "))[0],e=b.trim(n.join(" ")));if(2<e.split(")").length){for(var o="",t=e.split(")"),d=0;d<t.length-1;d++){var n;t[d]+=")",4==(n=t[d].split(",")).length?(e=n[0]+","+n[1]+","+n[2],e+=")"):e=t[d],o+="#"+i((e=(e=b.trim(e)).match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+i(e[2])+i(e[3])+" "}return o}return 4==(n=e.split(",")).length&&(e=n[0]+","+n[1]+","+n[2],e+=")"),"#"+i((e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+i(e[2])+i(e[3])},a.getTransparencyFromRgba=function(e,i){var o=e.split(",");return 4==o.length&&((i=void 0===i||i)?o[3].replace(/[^\d.]/g,""):100*o[3].replace(/[^\d.]/g,""))},a.debug=function(e){b("#div_debug").show().html(e)},a.trace=function(e,i){i&&1==i&&console.clear(),console.log(e)},a.showErrorMessage=function(e){a.showInfo({content:e,type:"warning",showdelay:0,hidedelay:3,hideon:"",event:""}),v()};a.setErrorMessageID=function(e){l=e},a.setSuccessMessageID=function(e){i=e};this.hideSuccessMessage=function(){i?(b("#"+i).hide(),i=null):b("#success_message").slideUp("slow").fadeOut("slow"),v()},this.setAjaxLoaderID=function(e){r=e};var _=function(){r&&(b("#"+r).hide(),r=null)};this.setAjaxHideButtonID=function(e){s=e};var v=function(){if(s){var e=s.split(",");if(1<e.length)for(var i=0;i<e.length;i++)b("#"+e[i]).show();else b("#"+s).show();s=null}};a.ajaxRequest=function(o,e,t,d,n){var i={action:g_uniteDirPlugin+"_ajax_action",client_action:o,nonce:g_revNonce,form_key:window.FORM_KEY,data:e};null!==l?(b("#"+l).hide(),l=null):b("#error_message").hide(),r&&b("#"+r).show(),function(){if(s){var e=s.split(",");if(1<e.length)for(var i=0;i<e.length;i++)b("#"+e[i]).hide();else b("#"+s).hide()}}(),void 0===d&&showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),b.ajax({type:"post",url:ajaxurl,dataType:"json",data:i,success:function(e){if(void 0===d&&e&&!e.is_redirect&&showWaitAMinute({fadeOut:300}),_(),!e)return a.showErrorMessage("Empty ajax response!"),!1;if(-1==e)return a.showErrorMessage("ajax error!!!"),!1;if(0==e)return a.showErrorMessage("ajax error, action: <b>"+o+"</b> not found"),!1;if(null==e.success)return a.showErrorMessage("The 'success' param is a must!"),!1;if(0==e.success){if(void 0===n)return a.showErrorMessage(e.message),!1;"function"==typeof t&&t(e)}else"function"==typeof t&&t(e),e.message&&(i=e.message,a.showInfo({content:i,type:"success",showdelay:0,hidedelay:1,hideon:"",event:""}),v()),e.is_redirect&&(location.href=e.redirect_url);var i},error:function(e,i,o){void 0===d&&showWaitAMinute({fadeOut:300}),_(),"parsererror"==i&&a.debug(e.responseText),a.showErrorMessage("Ajax Error!!! "+i)}})};var n=function(e,t,i,o){var d=void 0===o?"image":"video",n=revMageImageUploadUrl.replace("[type]",d);Mediabrowser.prototype.insert=function(e){var i;if(null!=e?i=Event.findElement(e,"DIV"):$$("div.selected.filecnt").each(function(e){i=$(e.id)}),null==$(i.id))return!1;var o={filename:i.id,node:this.currentNode.id,store:this.storeId};new Ajax.Request(this.onInsertUrl,{parameters:o,onSuccess:function(e){try{this.onAjaxSuccess(e),this.getMediaBrowserOpener()&&self.blur(),Windows.close("browser_window"),e.responseText=e.responseText.replace(/(\r\n|\n|\r)/gm,"").trim();var i=JSON.parse(e.responseText);i.image&&t(i.image,Base64.encode(i.image),i.width,i.height)}catch(e){alert(e.message)}}.bind(this)})};var a=1e3;b("*").each(function(){var e=parseInt(b(this).css("zIndex"),10);a<e&&(a=e)}),MediabrowserUtility.openDialog(n,!1,!1,e,{zIndex:a})};a.openAddImageDialog=function(e,i,o){e||(e=rev_lang.select_image),n(e,i)},a.openAddVideoDialog=function(e,i,o){e||(e=rev_lang.select_image),n(e,i,0,"video")},a.loadCssFile=function(e,i){e+="?rand="+Math.floor(1e5*Math.random()+1),i&&b("#"+i).remove(),b("head").append("<link>");var o=b("head").children(":last");o.attr({rel:"stylesheet",type:"text/css",href:e}),i&&o.attr({id:i})},a.getUrlShowImage=function(e,i,o,t){var d=g_urlAjaxShowImage.replace("[image]",e);return i&&(d=d.replace("[width]",i)),o&&(d=d.replace("[height]",o)),t&&1==t&&(d=d.replace("[type]","exact")),d};var p=function(e){if(!e)return b("#video_content").html(""),!1;var i=e.thumb_medium,o='<div class="video-thumbnail-all-wrapper">';o+='<div class="video-thumbnail-preview-wrapper"><div id="video-thumbnail-preview" style="background-size:cover; background-position:center center; background-image:url('+(""!=b.trim(b("#input_video_preview").val())?b("#input_video_preview").val():i.url)+"); width:"+i.width+"px; height:"+i.height+'px;display:inline-block;vertical-align:bottom"></div></div>',o+='<div class="video-content-description">',o+='<div class="video-content-title">'+e.title+"</div>",void 0!==e.desc_small&&(o+=e.desc_small),o+="</div>",o+="</div>",b("#video_content").html(o)};a.onYoutubeCallback=function(e){b("#youtube_loader").hide();var i={};if(i.id=b("#youtube_id").val(),i.id=b.trim(i.id),i.video_type="youtube",e[0].width<=129||e[0].height<=96){if(-1!=e[0].src.indexOf("/sddefault.jpg"))return e[0].src=e[0].src.replace("sddefault.jpg","hqdefault.jpg"),!1;i.title="YouTube: "+rev_lang.maybe_wrong_yt_id}else i.title="YouTube";i.author="YouTube",i.link="",i.description="",i.desc_small="",200<i.description.length&&(i.desc_small=i.description.slice(0,200)+"..."),i.thumb_small={url:e[0].src,width:200,height:150},i.thumb_medium={url:e[0].src,width:320,height:240},i.thumb_big={url:e[0].src,width:e[0].width,height:e[0].height},i.thumb_very_big={url:e[0].src.replace("sddefault.jpg","maxresdefault.jpg"),width:e[0].width,height:e[0].height},i.video_width=e[0].width,i.video_height=e[0].height,p(i);var o=b("#input_video_arguments");""==o.val()&&o.val(o.data("youtube")),u=i,b("#video_dialog_tabs").removeClass("disabled"),d=!0,b("#button-video-add").show()},a.initVideoDef=function(){b(".button-image-select-video-default").click(function(){if(void 0===u)return!1;switch(u.video_type){case"vimeo":b("#input_video_preview").val(u.thumb_medium.url),b("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_medium.url+")"});break;case"youtube":b("#input_video_preview").val(u.thumb_big.url),b("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_big.url+")"})}}),b(".button-image-select-video-max").click(function(){if(void 0===u)return!1;switch(u.video_type){case"vimeo":b("#input_video_preview").val(u.thumb_large.url),b("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_large.url+")"});break;case"youtube":b("#input_video_preview").val(u.thumb_very_big.url),b("#video-thumbnail-preview").css({backgroundImage:"url("+u.thumb_very_big.url+")"})}})},a.onVimeoCallback=function(e){b("#vimeo_loader").hide();e=e[0];var i={video_type:"vimeo"};i.id=e.id,i.id=b.trim(i.id),i.title=e.title,i.link=e.url,i.author=e.user_name,i.description=e.description,200<i.description.length&&(i.desc_small=i.description.slice(0,200)+"..."),i.thumb_large={url:e.thumbnail_large,width:640,height:360},i.thumb_medium={url:e.thumbnail_medium,width:200,height:150},i.thumb_small={url:e.thumbnail_small,width:100,height:75},i.video_with=640,i.video_height=360,p(i);var o=b("#input_video_arguments");""==o.val()&&o.val(o.data("vimeo")),u=i,b("#video_dialog_tabs").removeClass("disabled"),d=!0,b("#button-video-add").show()},a.videoDialogOnError=function(){if(1==d)return b("#video_radio_audio").is(":checked")?b("#button-audio-add").show():b("#button-video-add").show(),d=!1;b("#button-video-add").hide(),b("#button-audio-add").hide(),b("#youtube_loader").hide(),b("#vimeo_loader").hide();var e="<div class='video-content-error'>"+rev_lang.video_not_found+"</div>";b("#video_content").html(e)};var h=function(){1==b("#input_video_fullwidth").is(":checked")?b("#video_full_screen_settings").show():(b("#input_video_cover").prop("checked",!1),b("#video_full_screen_settings").hide()),1==b("#input_video_cover").is(":checked")?b("#input_video_ratio_lbl, #input_video_ratio, #input_video_dotted_overlay_lbl, #input_video_dotted_overlay").show():b("#input_video_ratio_lbl, #input_video_ratio, #input_video_dotted_overlay_lbl, #input_video_dotted_overlay").hide(),RevSliderSettings.onoffStatus(b("#input_video_fullwidth")),RevSliderSettings.onoffStatus(b("#input_video_cover"))};a.openVideoDialog=function(e,i,o){c=e;var t=b("#dialog_video"),d={Close:function(){t.dialog("close")}};"audio"==o?function(e){if(b("#button-audio-add").text(b("#button-audio-add").data("textadd")),b("#video_radio_audio").attr("checked",!0),b("#video_type_chooser").hide(),b("#video_block_youtube").hide(),b("#video_block_vimeo").hide(),b("#video_block_html5").hide(),b("#video_block_audio").show(),b(".rs-hide-on-audio").hide(),b(".rs-show-on-audio").show(),!e)return b("#video_content").html("");var i=e.thumb_medium,o='<div class="video-thumbnail-all-wrapper">';o+='<div class="video-thumbnail-preview-wrapper"><div id="video-thumbnail-preview" style="background-size:cover; background-position:center center; background-image:url('+(""!=b.trim(b("#input_video_preview").val())?b("#input_video_preview").val():i.url)+"); width:"+i.width+"px; height:"+i.height+'px;display:inline-block;vertical-align:bottom"></div></div>',o+='<div class="video-content-description">',o+='<div class="video-content-title">'+e.title+"</div>",void 0!==e.desc_small&&(o+=e.desc_small),o+="</div>",o+="</div>",b("#video_content").html(o)}(!1):(p(!1),b("#video_block_youtube").show(),b("#video_block_audio").hide(),b("#video_radio_youtube").attr("checked",!0),b(".rs-hide-on-audio").show(),b(".rs-show-on-audio").hide(),b("#video_type_chooser").show(),b("#video_type_chooser input[type=radio]:checked").trigger("click")),b("#youtube_id,#vimeo_id").prop("disabled","").removeClass("input-disabled"),b("#html5_url_poster").val(""),b("#html5_url_mp4").val(""),b("#html5_url_webm").val(""),b("#html5_url_ogv").val(""),b("#html5_url_audio").val(""),b("#input_video_arguments").val(""),b("#select_video_autoplay option[value='false']").attr("selected",!0),b("#input_video_nextslide").prop("checked",""),b("#input_video_force_rewind").prop("checked",""),b("#input_video_fullwidth").prop("checked",""),b("#input_video_control").prop("checked",""),b("#input_video_mute").prop("checked",""),b("#input_disable_on_mobile").prop("checked",""),b("#input_video_show_cover_pause").prop("checked",""),b("#input_video_large_controls").prop("checked",!0),b("#input_video_leave_fs_on_pause").prop("checked",!0),b("#input_video_cover").prop("checked",""),b("#input_video_stopallvideo").prop("checked",""),b("#input_video_allowfullscreen").prop("checked",""),b("#input_video_dotted_overlay option[value='none']").attr("selected",!0),b("#input_video_ratio option[value='16:9']").attr("selected",!0),b('#input_video_preload option[value="auto"]').attr("selected",!0),b('#input_video_preload_wait option[value="5"]').attr("selected",!0),b('#input_video_speed option[value="1"]').attr("selected",!0),b('#input_video_loop option[value="none"]').attr("selected",!0),b("#input_video_preview").val(""),b("#input_use_poster_on_mobile").prop("checked",""),b("#input_video_show_visibility").prop("checked",""),b("#input_video_play_inline").prop("checked",""),b("#input_video_start_at").val(""),b("#input_video_end_at").val(""),b("#input_video_volume").val("100"),RevSliderSettings.onoffStatus(b("#input_video_nextslide")),RevSliderSettings.onoffStatus(b("#input_video_force_rewind")),RevSliderSettings.onoffStatus(b("#input_video_fullwidth")),RevSliderSettings.onoffStatus(b("#input_video_control")),RevSliderSettings.onoffStatus(b("#input_video_mute")),RevSliderSettings.onoffStatus(b("#input_disable_on_mobile")),RevSliderSettings.onoffStatus(b("#input_video_cover")),RevSliderSettings.onoffStatus(b("#input_video_stopallvideo")),RevSliderSettings.onoffStatus(b("#input_video_allowfullscreen")),RevSliderSettings.onoffStatus(b("#input_use_poster_on_mobile")),RevSliderSettings.onoffStatus(b("#input_video_show_cover_pause")),RevSliderSettings.onoffStatus(b("#input_video_large_controls")),RevSliderSettings.onoffStatus(b("#input_video_leave_fs_on_pause")),RevSliderSettings.onoffStatus(b("#input_video_show_visibility")),RevSliderSettings.onoffStatus(b("#input_video_play_inline")),b("#button-video-add").hide(),b("#button-audio-add").hide(),b("#video_dialog_tabs").hasClass("disabled")||b("#video_dialog_tabs").addClass("disabled"),b("#youtube_id").val(""),b("#vimeo_id").val(""),b("#fullscreenvideofun").hide();var n=b("#button-video-add");n.text(n.data("textadd"));var a=b("#button-audio-add");a.text(a.data("textadd")),t.dialog({buttons:d,minWidth:830,minHeight:500,modal:!0,dialogClass:"tpdialogs",create:function(e){b(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}}),i&&f(i),h()};var f=function(e){switch(e.id=b.trim(e.id),e.video_type){case"youtube":b("#video-dialog-wrap").removeClass("html5select"),b("#video_radio_youtube").trigger("click"),b("#youtube_id").val(e.id),b("#fullscreenvideofun").hide();break;case"vimeo":b("#video-dialog-wrap").removeClass("html5select"),b("#video_radio_vimeo").trigger("click"),b("#vimeo_id").val(e.id),b("#fullscreenvideofun").hide();break;case"html5":b("#video-dialog-wrap").addClass("html5select"),b("#html5_url_poster").val(e.urlPoster),b("#html5_url_mp4").val(e.urlMp4),b("#html5_url_webm").val(e.urlWebm),b("#html5_url_ogv").val(e.urlOgv),b("#video_radio_html5").trigger("click"),b("#fullscreenvideofun").show();break;case"streamvimeo":b("#video-dialog-wrap").removeClass("html5select"),b("#video_radio_streamvimeo").trigger("click");break;case"streamyoutube":b("#video-dialog-wrap").removeClass("html5select"),b("#video_radio_streamyoutube").trigger("click");break;case"streaminstagram":b("#video-dialog-wrap").removeClass("html5select"),b("#video_radio_streaminstagram").trigger("click");break;case"audio":b("#html5_url_audio").val(e.urlAudio),b("#rev-html5-options").hide()}if(b("#input_video_arguments").val(e.args),b("#input_video_preview").val(e.previewimage),e.use_poster_on_mobile&&1==e.use_poster_on_mobile?b("#input_use_poster_on_mobile").prop("checked","checked"):b("#input_use_poster_on_mobile").prop("checked",""),e.video_show_visibility&&1==e.video_show_visibility?b("#input_video_show_visibility").prop("checked","checked"):b("#input_video_show_visibility").prop("checked",""),e.video_play_inline&&1==e.video_play_inline?b("#input_video_play_inline").prop("checked","checked"):b("#input_video_play_inline").prop("checked",""),e.autoplayonlyfirsttime&&1==e.autoplayonlyfirsttime&&(e.autoplay="1sttime"),e.autoplay)switch(e.autoplay){case"true":case!0:b('#select_video_autoplay option[value="true"]').attr("selected",!0);break;case!1:case"false":b('#select_video_autoplay option[value="false"]').attr("selected",!0);break;default:b('#select_video_autoplay option[value="'+e.autoplay+'"]').attr("selected",!0)}e.nextslide&&1==e.nextslide?b("#input_video_nextslide").prop("checked","checked"):b("#input_video_nextslide").prop("checked",""),e.forcerewind&&1==e.forcerewind?b("#input_video_force_rewind").prop("checked","checked"):b("#input_video_force_rewind").prop("checked",""),e.fullwidth&&1==e.fullwidth?b("#input_video_fullwidth").prop("checked","checked"):b("#input_video_fullwidth").prop("checked",""),e.controls&&1==e.controls?b("#input_video_control").prop("checked","checked"):b("#input_video_control").prop("checked",""),e.mute&&1==e.mute?b("#input_video_mute").prop("checked","checked"):b("#input_video_mute").prop("checked",""),e.disable_on_mobile&&1==e.disable_on_mobile?b("#input_disable_on_mobile").prop("checked","checked"):b("#input_disable_on_mobile").prop("checked",""),e.cover&&1==e.cover?b("#input_video_cover").prop("checked","checked"):b("#input_video_cover").prop("checked",""),e.stopallvideo&&1==e.stopallvideo?b("#input_video_stopallvideo").prop("checked","checked"):b("#input_video_stopallvideo").prop("checked",""),e.allowfullscreen&&1==e.allowfullscreen?b("#input_video_allowfullscreen").prop("checked","checked"):b("#input_video_allowfullscreen").prop("checked",""),e.preload&&b("#input_video_preload option").each(function(){b(this).val()==e.preload&&b(this).attr("selected",!0)}),e.preload_audio&&b("#input_audio_preload option").each(function(){b(this).val()==e.preload_audio&&b(this).attr("selected",!0)}),e.preload_wait&&b("#input_video_preload_wait option").each(function(){b(this).val()==e.preload_wait&&b(this).attr("selected",!0)}),e.videospeed&&b("#input_video_speed option").each(function(){b(this).val()==e.videospeed&&b(this).attr("selected",!0)}),e.dotted&&b("#input_video_dotted_overlay option").each(function(){b(this).val()==e.dotted&&b(this).attr("selected",!0)}),e.ratio&&b("#input_video_ratio option").each(function(){b(this).val()==e.ratio&&b(this).attr("selected",!0)}),e.videoloop&&(1==e.videoloop?b('#input_video_loop option[value="loop"]').attr("selected",!0):b("#input_video_loop option").each(function(){b(this).val()==e.videoloop&&b(this).attr("selected",!0)}));var i=b("#button-video-add");i.text(i.data("textupdate"));var o=b("#button-audio-add");switch(o.text(o.data("textupdate")),e.video_type){case"youtube":b("#button_youtube_search").trigger("click");break;case"vimeo":b("#button_vimeo_search").trigger("click")}e.show_cover_pause&&1==e.show_cover_pause?b("#input_video_show_cover_pause").prop("checked","checked"):b("#input_video_show_cover_pause").prop("checked",""),void 0!==e.large_controls&&0==e.large_controls?b("#input_video_large_controls").prop("checked",""):b("#input_video_large_controls").prop("checked","checked"),void 0!==e.leave_on_pause&&0==e.leave_on_pause?b("#input_video_leave_fs_on_pause").prop("checked",""):b("#input_video_leave_fs_on_pause").prop("checked","checked"),b("#input_video_start_at").val(e.start_at),b("#input_video_end_at").val(e.end_at),b("#input_video_volume").val(e.volume),RevSliderSettings.onoffStatus(b("#input_video_nextslide")),RevSliderSettings.onoffStatus(b("#input_video_force_rewind")),RevSliderSettings.onoffStatus(b("#input_video_fullwidth")),RevSliderSettings.onoffStatus(b("#input_video_control")),RevSliderSettings.onoffStatus(b("#input_video_mute")),RevSliderSettings.onoffStatus(b("#input_disable_on_mobile")),RevSliderSettings.onoffStatus(b("#input_video_cover")),RevSliderSettings.onoffStatus(b("#input_video_stopallvideo")),RevSliderSettings.onoffStatus(b("#input_video_allowfullscreen")),RevSliderSettings.onoffStatus(b("#input_use_poster_on_mobile")),RevSliderSettings.onoffStatus(b("#input_video_show_cover_pause")),RevSliderSettings.onoffStatus(b("#input_video_large_controls")),RevSliderSettings.onoffStatus(b("#input_video_leave_fs_on_pause")),RevSliderSettings.onoffStatus(b("#input_video_show_visibility")),RevSliderSettings.onoffStatus(b("#input_video_play_inline")),"audio"===e.video_type?(b("#button-video-add").hide(),b("#button-audio-add").show()):(b("#button-video-add").show(),b("#button-audio-add").hide()),b("#video_dialog_tabs").removeClass("disabled"),b("#reset_video_dialog_tab").click()},g=function(e){return e.args=b("#input_video_arguments").val(),e.previewimage=b("#input_video_preview").val(),e.autoplay=b("#select_video_autoplay option:selected").val(),e.use_poster_on_mobile=b("#input_use_poster_on_mobile").is(":checked"),e.video_show_visibility=b("#input_video_show_visibility").is(":checked"),e.video_play_inline=b("#input_video_play_inline").is(":checked"),e.nextslide=b("#input_video_nextslide").is(":checked"),e.forcerewind=b("#input_video_force_rewind").is(":checked"),e.fullwidth=b("#input_video_fullwidth").is(":checked"),e.controls=b("#input_video_control").is(":checked"),e.mute=b("#input_video_mute").is(":checked"),e.disable_on_mobile=b("#input_disable_on_mobile").is(":checked"),e.cover=b("#input_video_cover").is(":checked"),e.stopallvideo=b("#input_video_stopallvideo").is(":checked"),e.allowfullscreen=b("#input_video_allowfullscreen").is(":checked"),e.dotted=b("#input_video_dotted_overlay option:selected").val(),e.preload=b("#input_video_preload option:selected").val(),e.preload_audio=b("#input_audio_preload option:selected").val(),e.preload_wait=b("#input_video_preload_wait option:selected").val(),e.videospeed=b("#input_video_speed option:selected").val(),e.ratio=b("#input_video_ratio option:selected").val(),e.videoloop=b("#input_video_loop option:selected").val(),e.show_cover_pause=b("#input_video_show_cover_pause").is(":checked"),e.start_at=b("#input_video_start_at").val(),e.end_at=b("#input_video_end_at").val(),e.volume=b("#input_video_volume").val(),e.large_controls=b("#input_video_large_controls").is(":checked"),e.leave_on_pause=b("#input_video_leave_fs_on_pause").is(":checked"),e},e=function(){b("#video_radio_youtube").prop("checked",!0),b("#video_radio_vimeo").click(function(){b("#video_block_youtube").hide(),b("#video_block_html5").hide(),b("#rev-html5-options").hide(),b("#rev-youtube-options").hide(),b("#rev-playsinline-options").hide(),b("#video_block_vimeo").show(),b("#preview-image-video-wrap").show(),b("#video-dialog-wrap").removeClass("html5select"),b("#fullscreenvideofun").hide(),b(".video-volume").show(),b(".hide-for-vimeo").hide()}),b("#video_radio_youtube").click(function(){b("#video_block_vimeo").hide(),b("#video_block_html5").hide(),b("#rev-html5-options").hide(),b("#rev-youtube-options").show(),b("#rev-playsinline-options").show(),b("#video_block_youtube").show(),b("#preview-image-video-wrap").show(),b("#video-dialog-wrap").removeClass("html5select"),b("#fullscreenvideofun").hide(),b(".video-volume").show(),b(".hide-for-vimeo").show()}),b("#video_radio_html5").click(function(){b("#video_block_vimeo").hide(),b("#video_block_youtube").hide(),b("#video_block_html5").show(),b("#rev-youtube-options").hide(),b("#rev-playsinline-options").show(),b("#rev-html5-options").show(),b("#video_content").hide(),b("#preview-image-video-wrap").hide(),b("#video-dialog-wrap").addClass("html5select"),b("#fullscreenvideofun").show(),b(".video-volume").show(),b(".hide-for-vimeo").show()}),b("#video_radio_streamyoutube").click(function(){b("#video_block_youtube").hide(),b("#video_block_vimeo").hide(),b("#video_block_html5").hide(),b("#rev-html5-options").hide(),b("#rev-youtube-options").hide(),b("#rev-playsinline-options").hide(),b("#preview-image-video-wrap").show(),b("#video-dialog-wrap").removeClass("html5select"),b("#fullscreenvideofun").hide(),b("#video_dialog_tabs").removeClass("disabled"),b("#button-video-add").show(),b(".video-volume").show(),b(".hide-for-vimeo").show()}),b("#video_radio_streamvimeo").click(function(){b("#video_block_youtube").hide(),b("#video_block_vimeo").hide(),b("#video_block_html5").hide(),b("#rev-html5-options").hide(),b("#rev-youtube-options").show(),b("#preview-image-video-wrap").show(),b("#video-dialog-wrap").removeClass("html5select"),b("#fullscreenvideofun").hide(),b("#video_dialog_tabs").removeClass("disabled"),b("#button-video-add").show(),b(".video-volume").show(),b(".hide-for-vimeo").hide()}),b("#video_radio_streaminstagram").click(function(){b("#video_block_youtube").hide(),b("#video_block_vimeo").hide(),b("#video_block_html5").hide(),b("#rev-html5-options").hide(),b("#rev-youtube-options").hide(),b("#rev-playsinline-options").show(),b("#preview-image-video-wrap").show(),b("#video-dialog-wrap").removeClass("html5select"),b("#fullscreenvideofun").hide(),b("#video_dialog_tabs").removeClass("disabled"),b("#button-video-add").show(),b(".video-volume").hide(),b(".hide-for-vimeo").show()}),b("#input_video_cover").change(function(){b(this).is(":checked")&&(b("#input_video_fullwidth").is(":checked")||b("#input_video_fullwidth").prop("checked",!0),RevSliderSettings.onoffStatus(b("#input_video_fullwidth"))),h()}),b("#input_video_fullwidth").change(function(){b(this).is(":checked")?b("#video_full_screen_settings").show():b("#video_full_screen_settings").hide()}),b("#button_youtube_search").click(function(){p(!1),b("#youtube_loader").show();var e=b("#youtube_id").val();e=function(e){var i=(e=b.trim(e)).split("v=")[1];if(i){var o=i.indexOf("&");-1!=o&&(i=i.substring(0,o))}else i=-1!=e.indexOf("youtu.be/")?e.split("youtu.be/")[1]:e;return i}(e=b.trim(e)),b("#youtube_id").val(e);var i=new Image;i.onload=function(){var e=b(this);UniteAdminRev.onYoutubeCallback(e)},i.src="https://img.youtube.com/vi/"+e+"/maxresdefault.jpg",b("#video_content").show(),setTimeout("UniteAdminRev.videoDialogOnError()",2e3)}),b("#button-video-add, #button-audio-add").click(function(){var e=b("#video_radio_html5").prop("checked"),i=b("#video_radio_audio").prop("checked"),o=b("#video_radio_streamyoutube").prop("checked"),t=b("#video_radio_streamvimeo").prop("checked"),d=b("#video_radio_streaminstagram").prop("checked");if(b("#video_content").hide(),e)(n={video_type:"html5"}).urlPoster=b("#html5_url_poster").val(),n.urlMp4=b("#html5_url_mp4").val(),n.urlWebm=b("#html5_url_webm").val(),n.urlOgv=b("#html5_url_ogv").val(),n.video_width=480,n.video_height=360,n=g(n),"function"==typeof c&&c(n),b("#dialog_video").dialog("close");else if(o){n=g(n={video_type:"streamyoutube",video_width:480,video_height:360}),"function"==typeof c&&c(n),b("#dialog_video").dialog("close")}else if(t){n=g(n={video_type:"streamvimeo",video_width:480,video_height:360}),"function"==typeof c&&c(n),b("#dialog_video").dialog("close")}else if(d){n=g(n={video_type:"streaminstagram",video_width:480,video_height:360}),"function"==typeof c&&c(n),b("#dialog_video").dialog("close")}else if(i){var n;(n={video_type:"audio"}).urlAudio=b("#html5_url_audio").val(),n.video_width=200,n.video_height=34,n=g(n),"function"==typeof c&&c(n),b("#dialog_video").dialog("close")}else{if(!u)return!1;u=g(u),"function"==typeof c&&c(u),b("#dialog_video").dialog("close")}try{UniteLayersRev.setLayerSelected(selectedLayerSerial,!0)}catch(e){}}),b("#html5_url_ogv, #html5_url_webm, #html5_url_mp4").on("change",function(){b("#video_dialog_tabs").removeClass("disabled"),b("#button-video-add").show(),b("#button-audio-add").hide()}),b("#html5_url_audio").on("change",function(){b("#video_dialog_tabs").removeClass("disabled"),b("#button-video-add").hide(),b("#button-audio-add").show()}),b("#button_vimeo_search").click(function(){p(!1),b("#vimeo_loader").show(),b("#video_content").show();var e,i,o=b("#vimeo_id").val();o=b.trim(o),e=o,i=(e=b.trim(e)).replace(/[^0-9]+/g,"");var t="//www.vimeo.com/api/v2/video/"+(o=i=b.trim(i))+".json?callback=UniteAdminRev.onVimeoCallback";b.getScript(t),setTimeout("UniteAdminRev.videoDialogOnError()",2e3)}),b("#input_video_fullwidth").change(h)};b(document).ready(function(){b("body").addClass("wp-core-ui"),e(),b("#button_general_settings").click(function(){b("#loader_general_settings").hide(),b("#dialog_general_settings").dialog({minWidth:800,minHeight:500,modal:!0,dialogClass:"tpdialogs",create:function(e){b(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),b(".button_save_general_settings").click(function(){var e=RevSliderSettings.getSettingsObject("form_general_settings");UniteAdminRev.ajaxRequest("update_general_settings",e,function(e){})}),b("#trigger_database_creation").click(function(){UniteAdminRev.ajaxRequest("fix_database_issues",{},function(e){})}),b("#trigger_font_deletion").click(function(){confirm("This will update all downloaded Google Fonts")&&UniteAdminRev.ajaxRequest("trigger_font_deletion",{},function(e){})}),m(),b("#rs-validation-activate").click(function(){var e={code:b('input[name="rs-validation-token"]').val().replace(/[^0-9a-z-]/gi,"")};UniteAdminRev.ajaxRequest("activate_purchase_code",e,function(e){0==e.success?b("#register-wrong-purchase-code").click():void 0!==e.error&&"exist"==e.error&&a.showErrorMessage(e.msg)},void 0,!0)}),b("#rs-validation-deactivate").click(function(){UniteAdminRev.ajaxRequest("deactivate_purchase_code","")})}),a.setMultipleTextKey=function(e,i){o[e]=i},a.getMultipleTextKey=function(e){return o[e]};var m=function(){b("body").on("click",".remove_multiple_text",function(){b("#"+b(this).data("remove")).remove(),b(this).parent().remove()}),b(".multiple_text_add").click(function(){var e=b(this).data("name"),i=a.getMultipleTextKey(e)+1,o=b("."+e+"_TEMPLATE").html();o=o.replace(/##ID##/gi,e+"_"+i).replace(/##NAME##/gi,e),b("#"+e+"_row .setting_input").append(o),a.setMultipleTextKey(e,i)})};a.parseCssMultiAttribute=function(e){if(""==e)return!1;var i=e.split(" "),o=[];switch(i.length){case 1:o[0]=i[0],o[1]=i[0],o[2]=i[0],o[3]=i[0];break;case 2:o[0]=i[0],o[1]=i[1],o[2]=i[0],o[3]=i[1];break;case 3:o[0]=i[0],o[1]=i[1],o[2]=i[2],o[3]=i[1];break;case 4:o[0]=i[0],o[1]=i[1],o[2]=i[2],o[3]=i[3];break;case 0:default:return!1}return o},a.convertHexToRGB=function(e){return[(e=parseInt(-1<e.indexOf("#")?e.substring(1):e,16))>>16,(65280&e)>>8,255&e]},a.initGoogleFonts=function(){b("#eg-font-setting-change").click(function(){UniteAdminRev.ajaxRequest("change_google_fonts_settings",{setting:b('input[name="load_fonts_place"]:checked').val()},function(e){})}),b("#eg-font-add").click(function(){b("#font-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:470,height:320,closeOnEscape:!0,dialogClass:"wp-dialog",create:function(e){b(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:[{text:"Add Font",click:function(){var e={};if(e.handle=a.sanitize_input(b('input[name="eg-font-handle"]').val()),e.url=b('input[name="eg-font-url"]').val(),e.handle.length<3||e.url.length<3)return alert(rev_lang.handle_at_least_three_chars),!1;UniteAdminRev.ajaxRequest("add_google_fonts",e,function(e){})}}]})}),b("body").on("click",".eg-font-edit",function(){if(confirm(rev_lang.really_change_font_sett)){var e={},i=b(this);e.handle=i.closest(".inside").find('input[name="esg-font-handle[]"]').val(),e.url=i.closest(".inside").find('input[name="esg-font-url[]"]').val(),UniteAdminRev.ajaxRequest("edit_google_fonts",e,function(e){})}}),b("body").on("click",".eg-font-delete",function(){if(confirm(rev_lang.really_delete_font)){var e={},i=b(this);e.handle=i.closest(".inside").find('input[name="esg-font-handle[]"]').val(),UniteAdminRev.ajaxRequest("remove_google_fonts",e,function(e){1==e.success&&i.closest(".postbox.eg-postbox").remove()})}})},a.sanitize_input=function(e){return e.replace(/ /g,"-").replace(/[^-0-9a-zA-Z_-]/g,"")},a.sanitize_input_lc=function(e){return e.replace(/ /g,"-").replace(/[^-0-9a-z_-]/g,"")},a.initAccordion=function(){b(".postbox-arrow").each(function(e){b(this).closest("h3").click(function(){var e=b(this);e.hasClass("box-closed")?(b(".postbox-arrow").each(function(){var e=b(this).closest("h3");e.closest(".postbox").find(".inside").slideUp("fast"),e.addClass("box-closed")}),e.closest(".postbox").find(".inside").slideDown("fast"),e.removeClass("box-closed")):(e.closest(".postbox").find(".inside").slideUp("fast"),e.addClass("box-closed"))})})},a.return_ajaxurl_param=function(){return-1===ajaxurl.indexOf("?")?"?":"&"},a.duplicateObject=function(e,i){return a.removePrototypeMethods(void 0!==i&&i?b.extend(!0,{},e):b.extend({},e))},a.duplicateObjectDeep=function(e){return a.duplicateObject(e,!0)},a.removePrototypeMethods=function(e){for(var i in e)e.hasOwnProperty(i)?"Object"!=typeof e[i]&&"Array"!=typeof e[i]||(e[i]=a.removePrototypeMethods(e[i])):delete e[i];return e}}}($nwd_jQuery);